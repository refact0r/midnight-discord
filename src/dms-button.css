body {
    --dms-icon-svg-url: url('https://refact0r.github.io/midnight-discord/assets/Font_Awesome_5_solid_moon.svg'); /* icon svg url. MUST BE A SVG. */
    --dms-icon-svg-size: 90%; /* size of the svg (css mask-size property) */
    --dms-icon-color-before: var(--icon-secondary); /* normal icon color */
    --dms-icon-color-after: var(--white); /* icon color when button is hovered/selected */
    --dms-background-image-url: url(''); /* url of the background image */
    --dms-background-image-size: cover; /* size of the background image (css background-size property) */
    --dms-background-color: linear-gradient(135deg, var(--purple-3), var(--purple-2)); /* fixed color/gradient (css background property) */
}

@property --custom-dms-icon {
    syntax: 'off | hide | custom';
    inherits: false;
    initial-value: custom;
}

@container body style(--custom-dms-icon: off) {
    .wrapper__6e9f8[data-list-item-id='guildsnav___home'] > .childWrapper__6e9f8 {
        color: var(--dms-icon-color-before);
    }
    .wrapper__6e9f8[data-list-item-id='guildsnav___home']:hover > .childWrapper__6e9f8,
    .wrapper__6e9f8[data-list-item-id='guildsnav___home'].selected__6e9f8 > .childWrapper__6e9f8 {
        color: var(--dms-icon-color-after);
    }
}

@container body style(--custom-dms-icon: custom) {
    .wrapper__6e9f8[data-list-item-id='guildsnav___home'] > .childWrapper__6e9f8 > svg {
        display: none;
    }
    .wrapper__6e9f8[data-list-item-id='guildsnav___home'] > .childWrapper__6e9f8 {
        overflow: visible;
    }
    .wrapper__6e9f8[data-list-item-id='guildsnav___home'] > .childWrapper__6e9f8::before {
        content: '';
        display: block;
        position: absolute;
        width: 65%;
        height: 65%;
        background: var(--dms-icon-color-before);
        mask-image: var(--dms-icon-svg-url);
        mask-size: var(--dms-icon-svg-size);
        mask-position: center;
        mask-repeat: no-repeat;
        transition: background-color 0.2s ease-out,
                    transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1),
                    filter 0.3s ease;
    }
    
    /* Hover - subtle glow and tilt */
    .wrapper__6e9f8[data-list-item-id='guildsnav___home']:hover > .childWrapper__6e9f8::before,
    .wrapper__6e9f8[data-list-item-id='guildsnav___home'].selected__6e9f8 > .childWrapper__6e9f8::before {
        background: var(--dms-icon-color-after);
        transform: rotate(-12deg);
        filter: drop-shadow(0 0 6px hsla(280, 60%, 70%, 0.5));
    }
    
    /* ═══════════════════════════════════════════════════════════════
       SECRET LONG-PRESS ANIMATION - Moon Eclipse Effect
       Hold for 0.8s to trigger the secret animation!
       ═══════════════════════════════════════════════════════════════ */
    .wrapper__6e9f8[data-list-item-id='guildsnav___home']:active > .childWrapper__6e9f8::before {
        animation: moon-eclipse 2s ease-in-out forwards;
        animation-delay: 0.8s; /* Secret triggers after holding 0.8s */
    }
    
    /* Eclipse ring effect */
    .wrapper__6e9f8[data-list-item-id='guildsnav___home'] > .childWrapper__6e9f8::after {
        content: '';
        position: absolute;
        width: 100%;
        height: 100%;
        border-radius: 50%;
        border: 2px solid transparent;
        opacity: 0;
        transition: opacity 0.3s ease, transform 0.3s ease, border-color 0.3s ease;
        pointer-events: none;
    }
    
    .wrapper__6e9f8[data-list-item-id='guildsnav___home']:active > .childWrapper__6e9f8::after {
        animation: eclipse-ring 2s ease-in-out forwards;
        animation-delay: 0.8s;
    }
    
    @keyframes moon-eclipse {
        0% {
            transform: rotate(-12deg);
            filter: drop-shadow(0 0 6px hsla(280, 60%, 70%, 0.5));
        }
        15% {
            transform: rotate(0deg) scale(0.85);
            filter: drop-shadow(0 0 2px hsla(280, 60%, 70%, 0.3));
        }
        30% {
            transform: rotate(0deg) scale(0.7);
            filter: drop-shadow(0 0 0px transparent);
            background: hsla(280, 20%, 30%, 1);
        }
        50% {
            transform: rotate(0deg) scale(0.7);
            filter: drop-shadow(0 0 15px hsla(280, 80%, 70%, 0.8))
                    drop-shadow(0 0 30px hsla(280, 70%, 60%, 0.5));
            background: var(--purple-2);
        }
        70% {
            transform: rotate(360deg) scale(1.1);
            filter: drop-shadow(0 0 20px hsla(280, 80%, 70%, 1))
                    drop-shadow(0 0 40px hsla(280, 70%, 60%, 0.6));
            background: var(--white);
        }
        85% {
            transform: rotate(360deg) scale(1.05);
            filter: drop-shadow(0 0 10px hsla(280, 60%, 70%, 0.6));
        }
        100% {
            transform: rotate(360deg) scale(1);
            filter: drop-shadow(0 0 6px hsla(280, 60%, 70%, 0.5));
            background: var(--dms-icon-color-after);
        }
    }
    
    @keyframes eclipse-ring {
        0% {
            opacity: 0;
            transform: scale(0.5);
            border-color: transparent;
        }
        30% {
            opacity: 1;
            transform: scale(1);
            border-color: hsla(280, 60%, 60%, 0.8);
        }
        50% {
            opacity: 1;
            transform: scale(1.3);
            border-color: hsla(280, 70%, 70%, 1);
            box-shadow: 0 0 15px hsla(280, 70%, 60%, 0.5),
                        inset 0 0 10px hsla(280, 70%, 60%, 0.3);
        }
        70% {
            opacity: 0.8;
            transform: scale(1.5);
            border-color: hsla(280, 60%, 70%, 0.6);
        }
        100% {
            opacity: 0;
            transform: scale(2);
            border-color: transparent;
        }
    }
}

@container body style(--custom-dms-icon: hide) {
    .wrapper__6e9f8[data-list-item-id='guildsnav___home'] > .childWrapper__6e9f8 > svg {
        display: none;
    }
}

@property --custom-dms-background {
    syntax: 'off | image | color';
    inherits: false;
    initial-value: off;
}

@container body style(--custom-dms-background: image) {
    .wrapper__6e9f8[data-list-item-id='guildsnav___home'] > .childWrapper__6e9f8 {
        background-image: var(--dms-background-image-url);
        background-color: transparent !important;
        background-size: var(--dms-background-image-size);
        background-position: center;
        background-repeat: no-repeat;
    }
}

@container body style(--custom-dms-background: color) {
    .wrapper__6e9f8[data-list-item-id='guildsnav___home'] > .childWrapper__6e9f8 {
        background: var(--dms-background-color);
    }
}
