body {
    --window-control-size: 13px;
}

@property --custom-window-controls {
    syntax: 'off | on';
    inherits: false;
    initial-value: on;
}

@container body style(--custom-window-controls: on) {
    .winButtons_c38106 {
        gap: 0;
        padding-right: calc(var(--gap) - (var(--window-control-size) / 2) + 1px);
    }
    .winButtons_c38106::before {
        margin-right: calc(var(--custom-app-top-bar-height) / 4);
    }
    .winButton_c38106 > svg {
        display: none;
    }
    .winButton_c38106 {
        background: none !important;
        width: calc(var(--window-control-size) * 2);
        height: var(--custom-app-top-bar-height);
    }
    .winButton_c38106::after {
        display: block;
        content: '';
        height: var(--window-control-size);
        width: var(--window-control-size);
        border-radius: 50%;
        transition: filter 0.15s cubic-bezier(0.4, 0, 0.2, 1), 
                    box-shadow 0.15s ease;
    }
    .winButton_c38106:hover::after {
        filter: brightness(1.15);
    }
    .winButton_c38106:active::after {
        filter: brightness(0.8);
    }
    .winButtonClose_c38106::after {
        background-color: var(--dnd) !important;
    }
    .winButtonClose_c38106:hover::after {
        box-shadow: 0 0 8px rgba(237, 66, 69, 0.4);
    }
    .winButtonMinMax_c38106:nth-child(1)::after {
        background-color: var(--idle) !important;
    }
    .winButtonMinMax_c38106:nth-child(1):hover::after {
        box-shadow: 0 0 8px rgba(250, 166, 26, 0.4);
    }
    .winButtonMinMax_c38106:nth-child(2)::after {
        background-color: var(--online) !important;
    }
    .winButtonMinMax_c38106:nth-child(2):hover::after {
        box-shadow: 0 0 8px rgba(59, 165, 93, 0.4);
    }
}

@container body style(--custom-window-controls: off) and style(--top-bar-button-position: titlebar) {
    .visual-refresh {
        .winButton_c38106 {
            width: calc(var(--window-control-size) * 2);
            height: calc(var(--window-control-size) * 2);
        }
        .winButtons_c38106 {
            gap: 0;
        }
    }
}
